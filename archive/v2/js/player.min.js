(function(e){function t(){this.initialize()}var n=t.prototype=new createjs.Container;var r=0;var i;var s;var o=0;var u;n.Container_initialize=n.initialize;var a;n.initialize=function(){this.Container_initialize();this.width=130;this.height=140;a=this.createAnimation();a.x=STAGE_WIDTH/2.3;a.y=STAGE_HEIGHT-200;vY=0;i=0;u=0;this.setKeyEvent(this);createjs.Ticker.setFPS(20);createjs.Ticker.addEventListener("tick",this.tick)};n.getAnimation=function(){return a};n.setFloorY=function(e){s=e+20};n.setVy=function(e){vY=e};n.getVy=function(){return vY};n.getWhere=function(){return i};n.getAnimationY=function(){return a.y};n.setCollision=function(){isStand=true};n.setNotCollision=function(){isStand=false};n.setKeyEvent=function(){function e(e){if(e.keyCode==32){e.preventDefault();if(isStand){isSpacePush=true;isJumping=true;isStand=false;createjs.Sound.play("jump")}}else if(e.keyCode==37){isLeftKeyPush=true}else if(e.keyCode==39){isRightKeyPush=true}}function t(e){a.gotoAndPlay("stand");isLeftKeyPush=false;isRightKeyPush=false}document.addEventListener("keydown",e,false);document.addEventListener("keyup",t,false)};n.tick=function(e){a.y+=vY;if(a.y<200&&isSpacePush){i++;u++}if(isJumping&&isSpacePush){a.y-=30;if(a.y<180){isSpacePush=false;vY=25;o=i}a.gotoAndPlay("jump");r=3}if(a.y+120>s){i--}if(isLeftKeyPush===true){a.x-=10;if(r!==0){a.gotoAndPlay("leftrun");r=0}}if(isRightKeyPush===true){a.x+=10;if(r!=1){a.gotoAndPlay("rightrun");r=1}}if(isSpacePush===false&&isLeftKeyPush===false&&isRightKeyPush===false){if(r!=2){a.gotoAndPlay("stand");r=2;isJumping=false;isStand=true}}};n.createAnimation=function(){var e={images:["./img/img_player.png"],frames:[[0,0,130,140],[130,0,130,140],[0,140,130,140],[130,142,130,140],[0,280,130,140],[130,280,130,140],[0,420,130,140],[130,420,130,140],[130,560,130,140],[130,560,130,140]],animations:{stand:{frames:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]},leftrun:{frames:[2,2,3,3]},rightrun:{frames:[4,4,5,5]},jump:{frames:[6,7]}}};var t=new createjs.SpriteSheet(e);return new createjs.Sprite(t)};e.Player=t})(window)