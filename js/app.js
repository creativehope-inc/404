var define=function(){return function(){var e=document.createElement("script");e.src="https://www.picomon.jp/game/get_solt.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t);var n={debug:!1,gameWidth:960,gameHeight:640,bulletWidht:16,bulletHieht:16,playerBulletAgility:10,playerHitpoint:3,maxPlayerHitpoint:10,minPlayerHitpoint:1,playerAgility:5,maxPlayerAgility:20,enemyBulletAgility:10,enemyAgility:4,enemyPower:1,itemAgility:4,labelFontSize:"20px cursive new, arial, sans-serif",playerWidth:32,playerHeight:32,enemyTypeOne:1,enemyTypeTwo:2,enemyTypeThreeHead:30,enemyTypeThreeHeadRibon:40,enemyTypeThreeBody:50,enemyTypeThreeBodyRibon:60,enemyTypeOneHitpoint:3,enemyTypeTwoHitpoint:5,enemyTypeThreeHeadHitpoint:100,enemyTypeThreeHeadRibbonHitpoint:50,enemyTypeThreeBodyHitpoint:100,enemyTypeThreeBodyRibbonHitpoint:50},i="assets/",o={background:i+"img/background1.png",test:i+"img/chara1.png",player:i+"img/chara2.png",bullet:i+"img/icon0.png",title:i+"img/background.png",battle:i+"img/battle.jpg",explosion:i+"img/effect0.png",cure:i+"img/heal_eff_thumb.png",shooter:i+"img/shooter_06.png",head:i+"img/kao.png",head_2:i+"img/mie_3.png",body:i+"img/body.png",body_r:i+"img/ribbon_2.png",head_r:i+"img/ribbon.png",twitter:i+"img/Twitter.png",facebook:i+"img/Facebook.png",ranking:i+"img/Ranking.png",startButton:i+"img/start.png",soundButton:i+"img/sound.png",mainSound:i+"sound/mp3/404game_main.mp3",hittedSound:i+"sound/mp3/404game_hitted.mp3",fired:i+"sound/mp3/404game_bullet_fire.mp3",enemyCrashed:i+"sound/mp3/404game_enemy_crash.mp3",getItem:i+"sound/mp3/404game_item.mp3",gameOverSound:i+"sound/mp3/404game_gameover.mp3",bossEnter:i+"sound/mp3/404game_boss_enter.mp3",bossCrashed:i+"sound/mp3/404game_boss_crash.mp3",submitButton:i+"img/submit_button.png"},m={playerHitpoint:"",playerAgility:"",bossHitpoint:"",gamePoint:"",startTime:"",gameTime:"",currentScene:"",MajiFlag:!1,music:!1,zakoEnemyCounter:0,zakoEnemy2Counter:0,bossHeadCounter:0,bossHeadRibonCounter:0,bossBodyCounter:0,bossBodyRibonCounter:0},r=[],a=[],g=[];if(enchant(),1==n.debug){var p=function(){};console.log=p}var s=new Core(n.gameWidth,n.gameHeight);return s.fps=30,s.keybind(32,"space"),s.preload(o.background,o.test,o.player,o.bullet,o.title,o.explosion,o.cure,o.shooter,o.head,o.head_2,o.body,o.body_r,o.head_r,o.mainSound,o.hittedSound,o.fired,o.enemyCrashed,o.getItem,o.gameOverSound,o.startButton,o.soundButton,o.bossEnter,o.bossCrashed,o.twitter,o.facebook,o.ranking,o.submitButton),{game:s,setting:n,files:o,store:m,playerArr:r,enemyArr:a,itemArr:g}}}();
var base=function(){return function(t){var e=t.game,i=t.setting,n=(t.files,t.store,t.playerArr,t.enemyArr,t.itemArr,Class.create(Label,{initialize:function(t,e,i,n,r,s,a,h,c,l){Label.call(this,a),this.x=t,this.y=e,this.color=r,this.font=s,this.text=a||"";var o=this;$(this).on("enterframe",function(){h&&h.call(o)}),$(this).on("touchstart",function(){c&&c.call(o)}),l&&l.call(o,o)}})),r=Class.create(Sprite,{initialize:function(t,e,i){return Sprite.call(this,t,e),this.pg=i,this},addInstance:function(t){return this.pg.addChild(t),this},removeInstance:function(t){return t.clearEventListener("enterframe"),t.pg.removeChild(t),this},setPosition:function(t,e){return this.x=t,this.y=e,this},setFrame:function(t){return this.frame=t,this},setImage:function(t){return this.image=e.assets[t],this},getOut:function(t,e){(t.x>i.gameWidth||t.x<0)&&(this._isArray(e)?(t.removeInstance(t),delete e[t.uuid]):t.removeInstance(t),t.clearEventListener("enterframe"))},_isArray:function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&"function"==typeof t.splice&&!t.propertyIsEnumerable("length")}}),s=Class.create(Sprite,{initialize:function(t,i,n,r,s){Sprite.call(this,t,i),this.image=e.assets[n];var a=this;return $(this).on("enterframe",function(){r&&r.call(a)}),s&&s.call(a),this}}),a=Class.create(Scene,{initialize:function(t,e,i,n,r,s,a){Scene.call(this),this.width=t,this.height=e,this.backgroundColor=i;for(key in n)this.addChild(n[key]);return $(this).on("enterframe",function(){r&&r()}),$(this).on("touchstart",function(){s&&s()}),a&&a.call(this),this}}),h=(Class.create(Scene,{initialize:function(t,e,i,n,r,s){Scene.call(this),this.width=t,this.height=e,this.backgroundColor=i;for(key in n)this.addChild(n[key]);return $(this).on("enterframe",function(){r&&r()}),$(this).on("touchstart",function(){s&&s()}),this}}),Class.create(Sprite,{initialize:function(t,i,n,r,s,a,h,c,l){Sprite.call(this,t,i),this.x=n,this.y=r,this.image=e.assets[a],this.frame=s;var o=this;return $(this).on("touchstart",function(){h&&h.call(o)}),$(this).on("enterframe",function(){c&&c.call(o)}),l&&l.call(o),this}})),c=Class.create(Entity,{initialize:function(t,e,i,n,r,s,a,h,c){Entity.call(this),this.width=t,this.height=e,this.x=i,this.y=n,this._element=r,this._element.type=s,this._element.name=a,this._element.id=h;var l=this;return this.addEventListener("enterframe",function(){c&&c.call(l)}),this}}),l=function(t,e,i){var n=t.rootScene;for(key in e)n.addChild(e[key]);return n.addEventListener("enterframe",function(){i&&i()}),n};return{SuperLabel:n,SuperSprite:r,SuperBackground:s,SuperScene:a,SuperImage:h,SuperEntity:c,SuperRootScene:l}}}();
var sub=function(){return function(e,t){var s=e.game,n=e.setting,a=e.files,h=e.store,r=e.playerArr,o=e.enemyArr,y=(e.itemArr,t.SuperLabel,t.SuperSprite),l=Class.create(y,{initialize:function(e,t,i,s){return y.call(this,e,t,s),this._setUUID(i),this},_setUUID:function(e){return this.uuid=e,this},saveStore:function(e){return e[this.uuid]=this,this}}),c=Class.create(l,{initialize:function(e,t,i,h){l.call(this,32,32,i,h),this.setPosition(e,t),this.setImage(a.shooter),this.fired=s.assets[a.fired].clone(),this.enemyCrashed=s.assets[a.enemyCrashed].clone(),this.bossCrashed=s.assets[a.bossCrashed].clone();var r=this;return this.addEventListener("enterframe",function(){for(var e in o)o[e].intersect(r)&&(o[e].type==n.enemyTypeThreeBody||o[e].type==n.enemyTypeThreeHead||o[e].type==n.enemyTypeThreeBodyRibon||o[e].type==n.enemyTypeThreeHeadRibon?r._crashBoss(o,e,h,r):r._crashEnemy(o,e,r,h));this._checkHP(h),this._controll(h)}),this.addInstance(this),this._came(),this},_came:function(){return this.tl.moveBy(n.gameWidth/2,1,30,enchant.Easing.QUAD_EASEINOUT).and().rotateTo(3600,30,enchant.Easing.LINEAR).and().scaleTo(3,3,30).and().rotateTo(3600,30,enchant.Easing.LINEAR).moveTo(0,n.gameHeight/2,30).and().scaleTo(1,1,30),this},_crashEnemy:function(e,t,i,s){new z(this.x,this.y,s),h.playerHitpoint<=0||(h.playerHitpoint-=n.enemyPower),e[t].hitpoint-=3,h.music&&this.enemyCrashed.play()},_crashBoss:function(e,t,i,s){new z(this.x,this.y,i),h.playerHitpoint<=0||(h.playerHitpoint-=n.enemyPower),e[t].hitpoint-=3,h.music&&s.bossCrashed.play()},_controll:function(e){this.setFrame([0,1]),s.input.left&&this.x>0&&(this.x-=h.playerAgility),s.input.right&&this.x<n.gameWidth-this.width&&(this.x+=h.playerAgility),s.input.up&&this.y>0&&(this.y-=h.playerAgility,this.frame=2),s.input.down&&this.y<n.gameHeight-this.height&&(this.y+=h.playerAgility,this.frame=3),0==s.input.up&&0==s.input.down&&this.setFrame(1==this.frame?0:1),s.input.space&&s.frame%2==0&&(new H(this.x,this.y,e),h.music&&this.fired.play())},_checkHP:function(e){if(h.playerHitpoint<=0){for(this.removeInstance(this),i=-10;10>i;i++)for(j=-10;10>j;j++)new z(this.x+5*j,this.y+5*i,e);setTimeout(function(){h.currentScene="gameover"},2e3)}}}),m=Class.create(l,{initialize:function(e,t,i,s,n,a,h){return l.call(this,e,t,n,a),this.setPosition(i,s),this.setType(h),this.setHP(),this},setType:function(e){this.type=e},setHP:function(){switch(this.type){case n.enemyTypeOne:this.hitpoint=n.enemyTypeOneHitpoint;break;case n.enemyTypeTwo:this.hitpoint=n.enemyTypeTwoHitpoint;break;case n.enemyTypeThreeHead:this.hitpoint=n.enemyTypeThreeHeadHitpoint;break;case n.enemyTypeThreeHeadRibon:this.hitpoint=n.enemyTypeThreeHeadRibbonHitpoint;break;case n.enemyTypeThreeBody:this.hitpoint=n.enemyTypeThreeBodyHitpoint;break;case n.enemyTypeThreeBodyRibon:this.hitpoint=n.enemyTypeThreeBodyRibbonHitpoint}},addCounter:function(e){switch(e.type){case n.enemyTypeOne:h.zakoEnemyCounter++,h.gamePoint+=n.enemyTypeOne;break;case n.enemyTypeTwo:h.zakoEnemy2Counter++,h.gamePoint+=n.enemyTypeTwo;break;case n.enemyTypeThreeHead:h.bossHeadCounter++,h.gamePoint+=n.enemyTypeThreeHead;break;case n.enemyTypeThreeHeadRibon:h.bossHeadRibonCounter++,h.gamePoint+=n.enemyTypeThreeHeadRibon;break;case n.enemyTypeThreeBody:h.bossBodyCounter++,h.gamePoint+=n.enemyTypeThreeBody;break;case n.enemyTypeThreeBodyRibon:h.bossBodyRibonCounter++,h.gamePoint+=n.enemyTypeThreeBodyRibon}}}),u=Class.create(m,{initialize:function(e,t,i,s){m.call(this,32,32,e,t,i,s,n.enemyTypeOne)},_checkHP:function(e){this.hitpoint<=0&&(!!this.removeInstance(this),!!delete o[this.uuid],h.music&&this.enemyCrashed.play(),this.addCounter(e),delete this)}}),d=Class.create(u,{initialize:function(e,t,i,h){m.call(this,32,32,e,t,i,h,n.enemyTypeOne),this.setFrame([4,5]),this.setImage(a.shooter),this.addInstance(this),this.enemyCrashed=s.assets[a.enemyCrashed].clone();var r=this;this.addEventListener("enterframe",function(){r._move(),r._checkHP(r),s.frame%50==0&&new I(this.x-this.width,this.y,h),r.getOut(r,o)})},_move:function(){this.x-=n.enemyAgility}}),p=Class.create(u,{initialize:function(e,t,i,h){m.call(this,32,32,e,t,i,h,n.enemyTypeTwo),this.setFrame([6,7]),this.setImage(a.shooter),this.addInstance(this),this.enemyCrashed=s.assets[a.enemyCrashed].clone();var r=this;this.addEventListener("enterframe",function(){r._move(),r._checkHP(r),s.frame%50==0&&new B(this.x-this.width,this.y,h),r.getOut(r,o)})},_move:function(){this.x-=n.enemyAgility,this.y=220*Math.cos(this.x*Math.PI/180)+300}}),f=Class.create(m,{initialize:function(e,t,i,n,r,o,y){m.call(this,e,t,i,n,r,o,y),this.bossEnter=s.assets[a.bossEnter].clone(),this.bossCrashed=s.assets[a.bossCrashed].clone();var l=this;this.addEventListener("enterframe",function(){if(0==h.MajiFlag){if(s.frame%10==0){var e=Math.floor(5*Math.random()+0);new P(l.x,l.y,o,e)}}else if(s.frame%100==0)for(var t=0;5>t;t++)for(var i=-5;5>i;i++)0!=t&&0!=i&&new w(l.x,l.y,o,t,i);0==l.hitpoint&&(l.opacity=.7==l.opacity?.5:.7)})},move:function(){this.tl.moveBy(-100,100,30,enchant.Easing.QUAD_EASEINOUT).moveBy(100,-100,30,enchant.Easing.QUAD_EASEINOUT).moveBy(-100,-100,30,enchant.Easing.QUAD_EASEINOUT).moveBy(100,100,30,enchant.Easing.QUAD_EASEINOUT).loop()},action:function(){this.tl.moveBy(n.gameWidth/5,1,30,enchant.Easing.QUAD_EASEINOUT),h.music&&this.bossEnter.play()},die:function(){},checkHP:function(e,t){return e.hitpoint<=0?(!!delete o[e.uuid],h.music&&e.bossCrashed.play(),t&&t(),!0):!1}}),T=Class.create(f,{initialize:function(e,t,i,r){f.call(this,144,166,e,t,i,r,n.enemyTypeThreeHead),this.setFrame([1]),this.setImage(a.head),this.bossCrashed=s.assets[a.bossCrashed].clone(),this.addInstance(this);var o=this;this.action();var y=!1,l=!1;this.addEventListener("enterframe",function(){h.MajiFlag?l||(o.setImage(a.head_2),o.setFrame([1]),l=!0):s.frame%10==0&&this.setFrame(1==this.frame?[2]:[1]),this.move(),y||(y=o.checkHP(o,function(){o.addCounter(o)}))})}}),g=Class.create(f,{initialize:function(e,t,i,h){f.call(this,194,246,e,t,i,h,n.enemyTypeThreeBody),this.setFrame([1]),this.setImage(a.body),this.bossCrashed=s.assets[a.bossCrashed].clone(),this.addInstance(this);var r=this;this.action();var o=!1;this.addEventListener("enterframe",function(){this.move(),o||(o=r.checkHP(r,function(){r.addCounter(r)}))})}}),v=Class.create(f,{initialize:function(e,t,i,r){f.call(this,78,56,e,t,i,r,n.enemyTypeThreeHeadRibon),this.setFrame([1]),this.setImage(a.head_r),this.bossCrashed=s.assets[a.bossCrashed].clone(),this.addInstance(this);var o=this;this.action();var y=!1;this.addEventListener("enterframe",function(){o.move(),y||(y=o.checkHP(o,function(){o.addCounter(o),h.MajiFlag=!0,!!o.removeInstance(o)}))})}}),b=Class.create(f,{initialize:function(e,t,i,h){f.call(this,40,31,e,t,i,h,n.enemyTypeThreeBodyRibon),this.setFrame([1]),this.setImage(a.body_r),this.bossCrashed=s.assets[a.bossCrashed].clone(),this.addInstance(this);var r=this;this.action();var o=!1;this.addEventListener("enterframe",function(){this.move(),o||(o=r.checkHP(r,function(){r.addCounter(r)}))})}}),E=Class.create(y,{initialize:function(e,t,i){return y.call(this,e,t,i),this},hitEntity:function(e,t,i,s){for(var n in t)e.intersect(t[n])&&(this.pg.removeChild(e),s&&s(t,n,i))}}),C=Class.create(E,{initialize:function(e,t,i){return E.call(this,e,t,i),this}}),H=Class.create(C,{initialize:function(e,t,i){C.call(this,16,16,i),this.setPosition(n.playerWidth+e,n.playerHeight/4+t),this.setImage(a.bullet),this.setFrame([50]),this.bulletSound=s.assets[a.hittedSound].clone(),this.addInstance(this);var h=this;return this.addEventListener("enterframe",function(){h.x+=n.playerBulletAgility,h.hitEntity(h,o,i,function(e,t,i){e[t].type==n.enemyTypeThreeBody||e[t].type==n.enemyTypeThreeHead||e[t].type==n.enemyTypeThreeBodyRibon||e[t].type==n.enemyTypeThreeHeadRibon?h._hitBoss(e,t,h,i):h._hitEnemy(e,t,h,i)}),h.getOut(h,null)}),this},_hitEnemy:function(e,t,i,s){new z(i.x,i.y,s),h.music&&this.bulletSound.play(),e[t].hitpoint--},_hitBoss:function(e,t,i,s){0==h.MajiFlag?e[t].type==n.enemyTypeThreeHeadRibon?(new z(i.x,i.y,s),h.music&&this.bulletSound.play(),e[t].hitpoint--):new k(i.x,i.y,s):(new z(i.x,i.y,s),e[t].hitpoint--,h.music&&this.bulletSound.play())}}),I=Class.create(C,{initialize:function(e,t,i){C.call(this,16,16,i),this.setPosition(n.playerWidth+e,n.playerHeight/2+t),this.setImage(a.bullet),this.setFrame([62]),this.addInstance(this),this.hitSound=s.assets[a.enemyCrashed].clone();var o=this;return this.addEventListener("enterframe",function(){o.x-=n.playerBulletAgility,o.hitEntity(o,r,i,function(e,t,i){new z(o.x,o.y,i),h.playerHitpoint<=0||(h.playerHitpoint-=n.enemyPower),h.music&&o.hitSound.play()}),o.getOut(o,null)}),this}}),B=Class.create(C,{initialize:function(e,t,i){C.call(this,16,16,i),this.setPosition(n.playerWidth+e,n.playerHeight/2+t),this.setImage(a.bullet),this.setFrame([62]),this.addInstance(this);var s=this;return this.addEventListener("enterframe",function(){s.x-=n.playerBulletAgility,s.hitEntity(s,r,i,function(e,t,i){new z(s.x,s.y,i),h.playerHitpoint<=0||(h.playerHitpoint-=n.enemyPower)}),s.getOut(s,null)}),this}}),P=Class.create(C,{initialize:function(e,t,i,o){C.call(this,16,16,i),this.setPosition(n.playerWidth+e,n.playerHeight/2+t),this.setImage(a.bullet),this.setFrame([62]),this.addInstance(this),this.hitSound=s.assets[a.enemyCrashed].clone();var y=this;return this.addEventListener("enterframe",function(){y.x-=10,y.y-=o,y.hitEntity(y,r,i,function(e,t,i){new z(y.x,y.y,i),h.music&&y.hitSound.play(),h.playerHitpoint<=0||(h.playerHitpoint-=n.enemyPower)}),y.getOut(y,null)}),this}}),w=Class.create(C,{initialize:function(e,t,i,o,y){C.call(this,16,16,i),this.setPosition(n.playerWidth+e,n.playerHeight/2+t),this.setImage(a.bullet),this.setFrame([62]),this.addInstance(this),this.hitSound=s.assets[a.enemyCrashed].clone();var l=this;return this.addEventListener("enterframe",function(){var e=Math.floor(2*Math.random()+1);l.x-=o*e*2,l.y-=y*e,l.hitEntity(l,r,i,function(e,t,i){new z(l.x,l.y,i),h.music&&l.hitSound.play(),h.playerHitpoint<=0||(h.playerHitpoint-=n.enemyPower)}),l.getOut(l,null)}),this}}),x=Class.create(E,{initialize:function(e,t,i){E.call(this,e,t,i),this.setImage(a.bullet),this.sound=s.assets[a.getItem].clone();var h=this;return this.addEventListener("enterframe",function(){h.x-=n.itemAgility,h.getOut(h,null)}),this}}),_=Class.create(x,{initialize:function(e,t,i){x.call(this,16,16,i),this.setPosition(e,t),this.setImage(a.bullet),this.setFrame([10]),this.addInstance(this);var s=this;return this.addEventListener("enterframe",function(){s.hitEntity(s,r,i,function(e,t,i){new k(s.x,s.y,i),h.music&&s.sound.play(),h.playerHitpoint<n.maxPlayerHitpoint&&h.playerHitpoint++})}),this}}),A=Class.create(x,{initialize:function(e,t,i){x.call(this,16,16,i),this.setPosition(e,t),this.setImage(a.bullet),this.setFrame([13]),this.addInstance(this);var s=this;return this.addEventListener("enterframe",function(){s.hitEntity(s,r,i,function(e,t,i){new k(s.x,s.y,i),h.music&&s.sound.play(),h.playerAgility<n.maxPlayerAgility&&(h.playerAgility+=5)})}),this}}),z=Class.create(y,{initialize:function(e,t,i){y.call(this,16,16,i),this.setPosition(e,t),this.setImage(a.explosion),this.setFrame([1,2,3,4,5]),this.addInstance(this);var s=this;return this.addEventListener("enterframe",function(){5==s.frame&&s.removeInstance(s)}),this}}),k=Class.create(y,{initialize:function(e,t,i){y.call(this,16,16,i),this.setPosition(e,t),this.setImage(a.cure),this.setFrame([1,2,3,4]),this.addInstance(this);var s=this;return this.addEventListener("enterframe",function(){4==s.frame&&s.removeInstance(s)}),this}});return{Aircraft:l,Player:c,Enemy:m,ZakoEnemy:d,ZakoEnemy2:p,BossEnemy:f,BossEnemyHead:T,BossEnemyBody:g,BossEnemyHeadRibbon:v,BossEnemyBodyRibbon:b,Things:E,Bullet:C,PlayerBullet:H,EnemyBullet:I,EnemyBullet2:B,BossBullet1:P,BossBullet2:w,Item:x,RecoveryItem:_,SpeedItem:A,Explosion:z,Cure:k}}}();
$(function(){var e=define(),n=base(e),t=sub(e,n),o=e.game,r=e.setting,i=e.files,a=e.store,l=e.playerArr,u=e.enemyArr,s=e.itemArr,c=n.SuperLabel,m=(n.SuperSprite,n.SuperBackground),h=n.SuperScene,f=n.SuperImage,g=n.SuperEntity,d=n.SuperRootScene,p=(t.Aircraft,t.Player),w=(t.Enemy,t.ZakoEnemy),b=t.ZakoEnemy2,y=t.BossEnemyHead,S=t.BossEnemyBody,v=t.BossEnemyHeadRibbon,x=t.BossEnemyBodyRibbon,k=(t.Things,t.Bullet,t.PlayerBullet,t.EnemyBullet,t.EnemyBullet2,t.Item,t.RecoveryItem),M=t.SpeedItem,C=(t.Explosion,t.Cure,function(){var e=o.assets[i.mainSound].clone();e.preMusic=a.music,domSoundFlag=!!e.src,new d(o,[new m(r.gameWidth,r.gameHeight,i.title,null,null),new f(291,55,340,420,null,i.startButton,function(){a.currentScene="gamestart"},null,null),new f(87,16,830,10,this.frame=a.music?[2]:[1],i.soundButton,function(){a.music=a.music?!1:!0},function(){this.frame=a.music?[2]:[1]},null)],function(){domSoundFlag?e.preMusic!=a.music&&(a.music?(e.play(),e.src.loop=!0):(e.pause(),e.src.loop=!1),e.preMusic=a.music):a.music?e.src||e.play():e.pause(),"gamestart"==a.currentScene&&o.pushScene(n()),o.input.space&&(a.currentScene="gamestart")});var n=function(){a.startTime=(o.frame/o.fps).toFixed(2),a.playerHitpoint=r.playerHitpoint,a.playerAgility=r.playerAgility,a.gamePoint=0,a.gameTime=0,a.MajiFlag=!1,a.zakoEnemyCounter=0,a.zakoEnemy2Counter=0,a.bossHeadCounter=0,a.bossHeadRibonCounter=0,a.bossBodyCounter=0,a.bossBodyRibonCounter=0;var n=1,t={flag:!1,results:!1},d=new h(r.gameWidth,r.gameHeight,null,[new m(r.gameWidth,r.gameHeight,i.background,function(){this.x-=3,this.x<=-r.gameWidth&&(this.x=r.gameWidth-10)},null),new m(r.gameWidth,r.gameHeight,i.background,function(){this.x-=3,this.x<=-r.gameWidth&&(this.x=r.gameWidth-10)},function(){this.x=r.gameWidth}),new c(10,10,null,null,"#e84b5f",r.labelFontSize,null,function(){a.gameTime=(o.frame/o.fps-a.startTime).toFixed(2),this.text="Time: "+(120-a.gameTime)}),new c(150,10,null,null,"#ffea00",r.labelFontSize,null,function(){this.text="HP: "+a.playerHitpoint+","}),new c(220,10,null,null,"#d1e3ff",r.labelFontSize,null,function(){this.text="Speed: "+a.playerAgility+","}),new c(340,10,null,null,"#fff",r.labelFontSize,null,function(){this.text="Score: "+a.gamePoint}),new f(87,16,830,10,this.frame=a.music?[2]:[1],i.soundButton,function(){a.music=a.music?!1:!0},function(){this.frame=a.music?[2]:[1]},null)],function(){if(domSoundFlag?e.preMusic!=a.music&&(a.music?(e.play(),e.src.loop=!0):(e.pause(),e.src.loop=!1),e.preMusic=a.music):a.music?e.src||e.play():e.pause(),a.gameTime>1&&a.gameTime<30&&(o.frame%15==0&&new w(r.gameWidth-Math.floor(10*Math.random()+20),Math.floor(Math.random()*(r.gameHeight-0)+0),o.frame+Math.floor(1e4*Math.random()+0),d).saveStore(u),o.frame%100==0&&new k(r.gameWidth-30,Math.floor(Math.random()*(r.gameHeight-0)+0),d),o.frame%120==0&&new M(r.gameWidth-30,Math.floor(Math.random()*(r.gameHeight-0)+0),d)),a.gameTime>5&&a.gameTime<30&&o.frame%25==0&&new b(r.gameWidth-Math.floor(10*Math.random()+20),Math.floor(Math.random()*(r.gameHeight-0)+0),o.frame,d).saveStore(u),a.gameTime>=30&&a.gameTime<120&&1==n&&(new S(500,220,o.frame+Math.floor(1e4*Math.random()+0),d).saveStore(u),new y(515,150,o.frame+Math.floor(1e4*Math.random()+0),d).saveStore(u),new v(515,120,o.frame+Math.floor(1e4*Math.random()+0),d).saveStore(u),new x(540,240,o.frame+Math.floor(1e4*Math.random()+0),d).saveStore(u),n=0),a.gameTime>120&&(a.currentScene="gameover"),1==a.bossHeadCounter&&1==a.bossHeadRibonCounter&&1==a.bossBodyCounter&&1==a.bossBodyRibonCounter&&(a.currentScene="gameclear"),"gameover"==a.currentScene||"gameclear"==a.currentScene){a.music&&e.stop();var m=o.assets[i.gameOverSound].clone();a.music&&m.play();var p=new h(r.gameWidth,r.gameHeight,"gameover"==a.currentScene?"black":"white",[new c(360,100,500,500,"gameover"==a.currentScene?"white":"black","40px cursive new","gameover"==a.currentScene?"GAME OVER":"GAME CLEAR",null),new c(215,200,300,100,"gameover"==a.currentScene?"white":"black","25px cursive new","",null,null,function(){this.text+=a.zakoEnemyCounter+"体"}),new c(215,250,300,100,"gameover"==a.currentScene?"white":"black","25px cursive new","",null,null,function(){this.text+=a.zakoEnemy2Counter+"体"}),new c(215,300,300,100,"gameover"==a.currentScene?"white":"black","25px cursive new","",null,null,function(){this.text+=a.bossHeadRibonCounter+"体 <br>"}),new c(215,350,300,100,"gameover"==a.currentScene?"white":"black","25px cursive new","",null,null,function(){this.text+=a.bossBodyRibonCounter+"体"}),new c(385,200,300,100,"gameover"==a.currentScene?"white":"black","25px cursive new","",null,null,function(){this.text+=a.bossHeadCounter+"体<br>"}),new c(385,270,300,100,"gameover"==a.currentScene?"white":"black","25px cursive new","",null,null,function(){this.text+=a.bossBodyCounter+"体<br>"}),new c(200,430,300,100,"gameover"==a.currentScene?"white":"black","35px cursive new","",null,null,function(){this.text="Score: "+a.gamePoint+" pt."}),new f(98,32,680,305,null,i.submitButton,function(){if(!t.flag){var e=$("#textBox").val();if(this.text="送信中です",!e)return this.text="名前を入力してください";window.callbacker=function(e){t.results=e,t.flag=!0};var n="function"==typeof window.__404_picomon_solt__?__404_picomon_solt__():"",o=document.createElement("script");o.src="https://www.picomon.jp/game/set_score?data="+Base64.encodeURI(n+Base64.encodeURI(JSON.stringify({callback:"callbacker",type:"shooting_code_404",score:0==a.gamePoint?1:a.gamePoint,nickname:encodeURIComponent(e)})));var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(o,r);var i=this;o.onload=function(){r.parentNode.removeChild(o),i.text=0==t.results.error?"送信が完了しました<br>因みに"+t.results.rank+"位です。":"送信に失敗しました<br>Error Code:"+t.results.err_msg,t.flag=!0}}},function(){t.flag&&p.removeChild(this)},null),new c(530,210,300,100,"gameover"==a.currentScene?"white":"black","18px cursive new","",null,null,function(){this.text="名前を入力して送信ボタンを押すと<br>",this.text+="ランキングに登録することができます"}),new c(580,300,300,100,"gameover"==a.currentScene?"white":"black","18px cursive new"," ",function(){t.flag&&(this.text=0==t.results.error?"送信が完了しました<br>因みに"+t.results.rank+"位です。":"送信に失敗しました<br>Error Code:"+t.results.err_msg)},null,null),new g(120,30,530,305,document.createElement("input"),"text","text","textBox",function(){t.flag&&p.removeChild(this)}),new c(390,520,300,100,"gameover"==a.currentScene?"white":"black","40px cursive new","Continue?",null,function(){o.popScene(d),o.popScene(p),a.currentScene="",domSoundFlag?e.preMusic!=a.music&&(a.music?(e.play(),e.src.loop=!0):(e.pause(),e.src.loop=!1),e.preMusic=a.music):a.music?e.src||e.play():e.pause()}),new f(32,32,570,400,null,i.twitter,function(){window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent("ピコもん 404ゲームで")+a.gamePoint+encodeURIComponent("スコアを獲得した！ ")+location.href+"&url=&original_referer=&hashtags="+encodeURIComponent("404ゲーム")+"&related=code1616","twitter-share-dialog","width=626,height=436")},null,null),new f(32,32,630,400,null,i.facebook,function(){window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(location.href),"facebook-share-dialog","width=626,height=436")},null,null),new f(32,32,690,400,null,i.ranking,function(){window.open(location.origin+location.pathname.split("/").reverse().slice(1).reverse().join("/")+"/popup.html","ranking-dialog","width=313,height=400")},null,null),new f(87,16,830,10,this.frame=a.music?[2]:[1],i.soundButton,function(){a.music=a.music?!1:!0},function(){this.frame=a.music?[2]:[1]},null),new f(32,32,170,200,[4],i.shooter,null,null,null),new f(32,32,170,250,[6],i.shooter,null,null,null),new f(78,56,150,290,null,i.head_r,null,null,function(){this.scale(.5,.5)}),new f(40,31,170,355,null,i.body_r,null,null,function(){this.scale(.5,.5)}),new f(194,246,235,185,null,i.body,null,null,function(){this.scale(.5,.5)}),new f(144,166,255,160,null,i.head,null,null,function(){this.scale(.5,.5)})],function(){},null,function(){this._element.style.opacity=.8});o.pushScene(p);for(key in u)delete u[key];for(key in l)delete l[key];for(key in s)delete s[key]}}),C=new p(0,r.gameHeight/2,o.frame+Math.floor(1e4*Math.random()+0),d);return C.saveStore(l),d}});o.onload=C,o.start();var B=window.navigator.userAgent.toLowerCase(),E=window.navigator.appVersion.toLowerCase(),H=function(){return-1!=B.indexOf("opr")?"opera":-1!=B.indexOf("msie")?-1!=E.indexOf("msie 6.")?"ie6":-1!=E.indexOf("msie 7.")?"ie7":-1!=E.indexOf("msie 8.")?"ie8":-1!=E.indexOf("msie 9.")?"ie9":"ie":-1!=B.indexOf("chrome")?"chrome":-1!=B.indexOf("safari")?"safari":-1!=B.indexOf("gecko")?"gecko":!1}();("ie7"==H||"ie6"==H||"ie8"==H||"opera"==H)&&(o.stop(),$(function(){$("#enchant-stage").remove(),$(".ie_alert").show().css("text-aline","center")}))});
